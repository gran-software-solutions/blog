"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"/2023/01/18/what-is-unit-testing","metadata":{"permalink":"/blog/2023/01/18/what-is-unit-testing","editUrl":"https://github.com/gran-software-solutions/blog/tree/main/blog/2023-01-18-what-is-unit-testing/index.mdx","source":"@site/blog/2023-01-18-what-is-unit-testing/index.mdx","title":"What is Unit testing","description":"I\'ll give a brief overview of the concept of unit testing for those of you who are unfamiliar with the subject.","date":"2023-01-18T00:00:00.000Z","formattedDate":"January 18, 2023","tags":[{"label":"testing","permalink":"/blog/tags/testing"}],"readingTime":3.735,"hasTruncateMarker":true,"authors":[{"name":"Dusan Odalovic","title":"Senior engineer @ GRAN Software Solutions GmbH","url":"https://github.com/dodalovicgran","imageURL":"https://github.com/dodalovicgran.png","key":"dodalovicgran"}],"frontMatter":{"title":"What is Unit testing","authors":"dodalovicgran","tags":["testing"]},"nextItem":{"title":"MDX Blog Post","permalink":"/blog/mdx-blog-post"}},"content":"I\'ll give a brief overview of the concept of unit testing for those of you who are unfamiliar with the subject.\\n\\n\x3c!--truncate--\x3e\\n\\nUnit testing allows us to test code behavior **in isolation** so that we can **verify implementation correctness**. Unit tests, unlike some other tests, need to be able to execute very quickly, providing you with an almost instant answer to the question, \\"Does my code work as expected?\u201d On top of that, they should be isolated from any external processes, like file-system access or calling databases or web services, during their execution.\\n\\n## Anatomy of Unit tests\\n\\nIn general, we should plan our test method implementation to be divided into three parts, as shown below:\\n\\n![Example banner](./img1.png)\\n\\nLet\u2019s now explain each of these three phases.\\n\\n## Arrange phase\\n\\nIn this phase we \\"emulate\\" execution environment of the code under test. What does that mean? Let\'s use a code snippet of the function we want to unit test:\\n\\n```kotlin\\nclass ProductService(\\n    val shippingCostService: ShippingCostService,\\n    val taxCalculationService: TaxCalculationService,\\n    val productPriceService: PriceService) {\\n\\n    fun getPrice(productID: String): Long {\\n        val basePrice: Long = priceService.getPrice(productID)\\n        val shippingCosts: Long = shippingCostService.getShippingCosts(productID)\\n        val taxes: Long = taxCalculationService.calculateTax(productID)\\n        return basePrice + shippingCosts + taxes\\n   }\\n}\\n```\\n\\nHere we have imaginary **ProductService** with **getPrice** method, which we\'d like to test. Unfortunately - there are already some complications: this method can\'t be tested in isolation!\\nWhy? Simply because our class depends on other classes to fulfill it\'s responsibility: `ShippingCostService`, `TaxCalculationService` and `PriceService`. We can call them **collaborators**.\\n\\nLuckily, all modern programming languages support some kind of support for emulation (you can hear the term **\u201cmocking\u201d**) of our collaborators. Using these tools, we can give **instructions to our test engine to mimic their particular behavior (as per the instructions we provide) during test method execution**.\\n\\n![Example banner](./img2.png)\\n\\nIn our imaginary case - we could give such an instruction:\\n\\n```kotlin\\nclass TestClass {\\n    @Test\\n    fun getPrice_when_shipping_cost_service_returns_proper_number_returns_positive_number() {\\n        // arrange phase\\n        val productID = UUID.randomUUID().toString()\\n        when(priceService.getPrice(productID)).thenReturn(5L)\\n        ...\\n    }\\n}\\n```\\n\\n## Act phase\\n\\n![Example banner](./img3.png)\\n\\nIn this phase, we actually execute the functionality under test. The example below shows how we execute the `getPrice` method of the `productService`.\\n\\n```kotlin\\nclass ProductServiceTest {\\n    @Test\\n    fun myTestMethod() {\\n        // act phase\\n        val calculatedPrice = productService.getPrice(\\"XY-123\\")\\n        // assert phase\\n        ...\\n    }\\n}\\n```\\n\\nUsually, after calling the function we\'re testing, we have to determine whether our function is correct or not. In our case,\\nthe function **returns some value**, which we can inspect and **make a conclusion about whether the value is expected or not**. Also,\\neven in the case that the function we test returns no value, the **test context might have changed as a result of interaction**,\\nand we could inspect these context changes to verify our function\'s correctness.\\n\\n## Assert phase\\n\\n![Example banner](./img4.png)\\n\\nNow after the function we want to test got executed, we need to verify for correctness.\\n\\nIn this phase, we typically do the following things:\\n\\n* verify return value from the function we tested, for instance:\\n  ```kotlin\\n  val calculatedPrice = productService.getPrice(\\"XY-123\\")\\n  // verify starts here\\n  assertThat(calculatedPrice).isEqualTo(5)\\n    ```\\n* verify that we had proper interactions with our collaborators during our test execution, for instance:\\n  ```kotlin\\n  verify(taxCalculationService, times(1)).calculateTax(productID)\\n    ```\\n\\n## Naming test methods\\n\\nConsistency is key, someone said. Our brains feel more comfortable when they recognize patterns with ease. Let\u2019s dissect the pattern I use when writing my test methods:\\n\\n![Example banner](./img5.png)\\n\\nIt consists of three parts, delimited by `_`:\\n\\n* the first part is **the method name we test**\\n\\n* the middle part is **the short description of the function execution context**\\n\\n* the last portion describes **expected outcome**\\n\\nHere are some more examples illustrating this:\\n\\n```kotlin\\n@Test\\nfun getUserDetails_whenDatabaseDown_throwsException() {}\\n@Test\\nfun getNumberOfRegisteredUsers_whenNetworkError_returnsNull() {}\\n```\\n\\n:::tip Key takeaways\\n* We need to know **what is the function we want to test** and more precisely, **which scenario** we are testing\\n\\n* Each test method should be composed out of three code blocks - **Arrange**, **Act**, and **Assert**\\n\\n  * **Arrange** - establish an environment needed to execute the test method\\n  * **Act** - invoke your test method\\n  * **Assert** - verify that the returned value from the method and/or the execution environment is in the state expected\\n\\n* We should name our test methods so that it\'s enough to understand the test just be reading test method name\\n:::\\n\\n## Conclusion\\n\\nWriting automated unit tests is important. If you think you learned something new, feel free to spread the word by sharing this article to your friends"},{"id":"mdx-blog-post","metadata":{"permalink":"/blog/mdx-blog-post","editUrl":"https://github.com/gran-software-solutions/blog/tree/main/blog/2021-08-01-mdx-blog-post.mdx","source":"@site/blog/2021-08-01-mdx-blog-post.mdx","title":"MDX Blog Post","description":"Blog posts support Docusaurus Markdown features, such as MDX.","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":0.175,"hasTruncateMarker":false,"authors":[{"name":"Honey Malviya","title":"Senior engineer @ GRAN Software Solutions GmbH","url":"https://github.com/hmalviya","imageURL":"https://github.com/hmalviya.png","key":"honey-malviya"}],"frontMatter":{"slug":"mdx-blog-post","title":"MDX Blog Post","authors":"honey-malviya","tags":["docusaurus"]},"prevItem":{"title":"What is Unit testing","permalink":"/blog/2023/01/18/what-is-unit-testing"},"nextItem":{"title":"Long Blog Post","permalink":"/blog/long-blog-post"}},"content":"Blog posts support [Docusaurus Markdown features](https://docusaurus.io/docs/markdown-features), such as [MDX](https://mdxjs.com/).\\n\\n:::tip\\n\\nUse the power of React to create interactive blog posts.\\n\\n```js\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n```\\n\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n\\n:::"},{"id":"long-blog-post","metadata":{"permalink":"/blog/long-blog-post","editUrl":"https://github.com/gran-software-solutions/blog/tree/main/blog/2019-05-29-long-blog-post.md","source":"@site/blog/2019-05-29-long-blog-post.md","title":"Long Blog Post","description":"This is the summary of a very long blog post,","date":"2019-05-29T00:00:00.000Z","formattedDate":"May 29, 2019","tags":[{"label":"hello","permalink":"/blog/tags/hello"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":2.05,"hasTruncateMarker":true,"authors":[{"name":"Greg Glazewski","title":"Senior engineer @ GRAN Software Solutions GmbH","url":"https://github.com/gglazewskigran","imageURL":"https://github.com/gglazewskigran.png","key":"gglazewskigran"}],"frontMatter":{"slug":"long-blog-post","title":"Long Blog Post","authors":"gglazewskigran","tags":["hello","docusaurus"]},"prevItem":{"title":"MDX Blog Post","permalink":"/blog/mdx-blog-post"},"nextItem":{"title":"First Blog Post","permalink":"/blog/first-blog-post"}},"content":"This is the summary of a very long blog post,\\n\\nUse a `\x3c!--` `truncate` `--\x3e` comment to limit blog post size in the list view.\\n\\n\x3c!--truncate--\x3e\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"},{"id":"first-blog-post","metadata":{"permalink":"/blog/first-blog-post","editUrl":"https://github.com/gran-software-solutions/blog/tree/main/blog/2019-05-28-first-blog-post.md","source":"@site/blog/2019-05-28-first-blog-post.md","title":"First Blog Post","description":"This is the first blog post on our site","date":"2019-05-28T00:00:00.000Z","formattedDate":"May 28, 2019","tags":[{"label":"hola","permalink":"/blog/tags/hola"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":0.12,"hasTruncateMarker":false,"authors":[{"name":"Dusan Odalovic","title":"Senior engineer @ GRAN Software Solutions GmbH","url":"https://github.com/dodalovicgran","imageURL":"https://github.com/dodalovicgran.png","key":"dodalovicgran"}],"frontMatter":{"slug":"first-blog-post","title":"First Blog Post","authors":"dodalovicgran","tags":["hola","docusaurus"],"description":"This is the first blog post on our site"},"prevItem":{"title":"Long Blog Post","permalink":"/blog/long-blog-post"}},"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"}]}')}}]);